<div class="row mb-5">
  <div class="col-3">
    <nz-card>
      <div class="row">
        <div class="col-4 d-flex justify-content-center align-items-center">
          <i class="bi bi-person-fill icon-bg"></i>
        </div>
        <div class="col-8">
          <div class="d-flex flex-column">
            <span class="title-card">Người dùng</span>
            <span class="text-number">{{ overview.totalUser }}</span>
          </div>
        </div>
      </div>
    </nz-card>
  </div>
  <div class="col-3">
    <nz-card>
      <div class="row">
        <div class="col-4 d-flex justify-content-center align-items-center">
          <i class="bi bi-music-note-beamed icon-bg"></i>
        </div>
        <div class="col-8">
          <div class="d-flex flex-column">
            <span class="title-card">Bài hát</span>
            <span class="text-number">{{ overview.totalSong }}</span>
          </div>
        </div>
      </div>
    </nz-card>
  </div>
  <div class="col-3">
    <nz-card>
      <div class="row">
        <div class="col-4 d-flex justify-content-center align-items-center">
          <i class="bi bi-music-note-list icon-bg"></i>
        </div>
        <div class="col-8">
          <div class="d-flex flex-column">
            <span class="title-card">Danh sách phát</span>
            <span class="text-number">{{ overview.totalPlaylist }}</span>
          </div>
        </div>
      </div>
    </nz-card>
  </div>
  <div class="col-3">
    <nz-card>
      <div class="row">
        <div class="col-4 d-flex justify-content-center align-items-center">
          <i class="bi bi-cash icon-bg"></i>
        </div>
        <div class="col-8">
          <div class="d-flex flex-column">
            <span class="title-card">Doanh thu (ngày)</span>
            <span class="text-number">{{
              utilService.formatCurrency(overview.totalPrice)
            }}</span>
          </div>
        </div>
      </div>
    </nz-card>
  </div>
</div>

<div class="row mb-5">
  <div class="col-4">
    <nz-card>
      <h2 class="title-card mb-3">Top 5 bài hát được yêu thích nhất</h2>
      <div class="table-responsive-custom">
        <nz-table
          [nzData]="songList"
          nzTableLayout="auto"
          [nzFrontPagination]="false"
          [nzBordered]="false"
        >
          <tbody class="align-middle">
            <tr *ngFor="let song of songList; let i = index">
              <td class="text-center fw-bold" style="width: 10px">
                #{{ i + 1 }}
              </td>
              <td class="image-column" style="width: 100px">
                <img
                  nz-image
                  nzSrc="{{ song.imgUrl }}"
                  alt="{{ song.name }}"
                  class="img-table-mini"
                />
              </td>
              <td>
                <div class="d-flex gap-1 flex-column">
                  <span
                    class="fw-bold text-ellipsis"
                    nz-tooltip
                    [nzTooltipTitle]="song.name"
                    [nzTooltipTrigger]="'hover'"
                  >
                    {{ song.name }}
                  </span>
                  <span
                    class="text-ellipsis"
                    nz-tooltip
                    [nzTooltipTitle]="utilService.getSingersString(song)"
                    [nzTooltipTrigger]="'hover'"
                  >
                    {{ utilService.getSingersString(song) }}
                  </span>
                </div>
              </td>
            </tr>
          </tbody>
        </nz-table>
      </div>
    </nz-card>
  </div>

  <div class="col-4">
    <nz-card>
      <h2 class="title-card mb-3">Top 5 danh sách phát được yêu thích nhất</h2>
      <div class="table-responsive-custom">
        <nz-table
          [nzData]="playlistList"
          nzTableLayout="auto"
          [nzFrontPagination]="false"
          [nzBordered]="false"
        >
          <tbody class="align-middle">
            <tr *ngFor="let playlist of playlistList; let i = index">
              <td class="text-center fw-bold" style="width: 10px">
                #{{ i + 1 }}
              </td>
              <td class="image-column" style="width: 100px">
                <img
                  nz-image
                  nzSrc="{{ playlist.imgUrl }}"
                  alt="{{ playlist.name }}"
                  class="img-table-mini"
                />
              </td>
              <td>
                <span
                  class="fw-bold text-ellipsis"
                  nz-tooltip
                  [nzTooltipTitle]="playlist.name"
                  [nzTooltipTrigger]="'hover'"
                >
                  {{ playlist.name }}
                </span>
              </td>
            </tr>
          </tbody>
        </nz-table>
      </div>
    </nz-card>
  </div>

  <div class="col-4">
    <nz-card>
      <h2 class="title-card mb-3">Top 5 ca sĩ được yêu thích nhất</h2>
      <div class="table-responsive-custom">
        <nz-table
          [nzData]="singerList"
          nzTableLayout="auto"
          [nzFrontPagination]="false"
          [nzBordered]="false"
        >
          <tbody class="align-middle">
            <tr *ngFor="let singer of singerList; let i = index">
              <td class="text-center fw-bold" style="width: 10px">
                #{{ i + 1 }}
              </td>
              <td class="image-column" style="width: 100px">
                <img
                  nz-image
                  nzSrc="{{ singer.imgUrl }}"
                  alt="{{ singer.name }}"
                  class="img-table-mini"
                />
              </td>
              <td>
                <span
                  class="fw-bold text-ellipsis"
                  nz-tooltip
                  [nzTooltipTitle]="singer.name"
                  [nzTooltipTrigger]="'hover'"
                >
                  {{ singer.name }}
                </span>
              </td>
            </tr>
          </tbody>
        </nz-table>
      </div>
    </nz-card>
  </div>
</div>

<nz-card>
  <h2 class="title-card">Doanh thu trong năm</h2>
  <div echarts [options]="options" class="demo-chart"></div>
</nz-card>
